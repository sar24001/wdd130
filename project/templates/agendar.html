{% extends "main.html" %}
{% block title %}Patitas felices - Agendar{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/agendar.css') }}">
{% endblock %}

{% block content %}

<form id="appointmentForm" method="post" action="{{ url_for('agendar') }}">
    <!-- Formulario de mascota -->
    <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" name="nombre" required>
    </div>

    <div class="form-group">
        <label for="raza">Raza</label>
        <input type="text" id="raza" name="raza" required>
    </div>

    <div class="form-group">
        <label for="especie">Especie</label>
        <select id="especie" name="especie" required>
            <option value="">Seleccione una opción</option>
            {% for especie in especies %}
            <option value="{{ especie['id_especie'] }}">{{ especie['especie_nombre'] }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="edad">Edad</label>
        <input type="text" id="edad" name="edad" required>
    </div>

    <div class="form-group">
        <label for="color">Color de pelaje</label>
        <input type="text" id="color" name="color" required>
    </div>

    <!-- Formulario de servicio -->
    <div class="form-group">
        <label for="servicio">Servicio</label>
        <select id="servicio" name="servicio" required>
            <option value="">Seleccione una opción</option>
            {% for servicio in servicios %}
            <option value="{{ servicio['id_servicio'] }}">
                {{ servicio['descripcion'] }} - {{ servicio['duracion'] }} min - C${{ servicio['costo'] }}
            </option>
            {% endfor %}
        </select>
    </div>

    <input type="hidden" value="activo" name="estado">
    <input type="hidden" value="1" name="disponibilidad">

    <div class="form-group">
        <label for="veterinario">Veterinario</label>
        <select id="veterinario" name="veterinario" required>
            <option value="">Seleccione una opción</option>
            {% for veterinario in veterinarios %}
            <option value="{{ veterinario.id_veterinario }}">
                {{ veterinario.nombre1 }} {{ veterinario.nombre2 }}
                {{ veterinario.apellido1 }} {{ veterinario.apellido2 }} -
                {{ veterinario.especialidad }}
            </option>
            {% endfor %}
        </select>
    </div>

    <!-- Campo para fecha -->
    <div class="form-group">
        <label for="fecha">Fecha</label>
        <input type="date" id="fecha" name="fecha" required>
    </div>

    <!-- Campo para hora -->
    <div class="form-group">
        <label for="hora">Hora</label>
        <input type="time" id="hora" name="hora" required>
    </div>

    <button type="submit" class="btn btn-primary">Agendar cita</button>
</form>

{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='scripts/agendar.js') }}"></script>
{% endblock %}




